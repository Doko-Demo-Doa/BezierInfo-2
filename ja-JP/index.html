<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>A Primer on Bézier Curves</title>
    <link rel="shortcut icon" href="favicon.png" type="image/png" />

    <base href=".." />

    <!-- opengraph information -->
    <meta property="og:title" content="A Primer on Bézier Curves" />
    <meta
      property="og:image"
      content="https://pomax.github.io/bezierinfo/images/og-image.png"
    />
    <meta property="og:type" content="text" />
    <meta property="og:url" content="https://pomax.github.io/bezierinfo" />
    <meta
      property="og:description"
      content="A detailed explanation of Bézier curves, and how to do the many things that we commonly want to do with them."
    />
    <meta property="og:locale" content="ja-JP}}" />
    <meta property="og:type" content="article" />
    <meta property="og:published_time" content="2013-06-13 12:00:00" />
    <meta property="og:author" content="Mike 'Pomax' Kamermans" />
    <meta property="og:section" content="Bézier Curves" />
    <meta property="og:tag" content="Bézier Curves" />

    <!-- twitter card information -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@TheRealPomax" />
    <meta name="twitter:creator" content="@TheRealPomax" />
    <meta
      name="twitter:image"
      content="https://pomax.github.io/bezierinfo/images/og-image.png"
    />
    <meta name="twitter:url" content="https://pomax.github.io/bezierinfo" />
    <meta
      name="twitter:description"
      content="A detailed explanation of Bézier curves, and how to do the many things that we commonly want to do with them."
    />

    <!-- my own referral/page hit tracker -->
    <script src="./lib/site/referrer.js" type="module" async></script>

    <!-- the part that makes interactive graphics work: an HTML5 <graphics-element> custom element -->
    <script
      src="./lib/custom-element/graphics-element.js"
      type="module"
      async
      defer
    ></script>
    <link rel="stylesheet" href="./lib/custom-element/graphics-element.css" />

    <!-- page styling -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
      <h1>A Primer on Bézier Curves</h1>
      <h2>
        A free, online book for when you really need to know how to do Bézier
        things.
      </h2>
      <span>Read this in your own language:</span>
      <ul>
        <li><a href="../index.html">English</a></li>
        <li><a href="../ja-JP/index.html">日本語</a></li>
        <li><a href="../zh-CN/index.html">中文</a></li>
      </ul>
      <span
        >Don't see your language listed?
        <a href="https://github.com/Pomax/BezierInfo-2/wiki/localize"
          >Help translate this content!</a
        ></span
      >
    </header>

    <main>
      <section id="preface">
        <section id="preface">
          <h1>まえがき</h1>
          <p>
            2次元上になにかを描くとき、普通は線を使いますが、これは直線と曲線の2つに分類することができます。直線を描くのはとても簡単で、これをコンピュータに描かせるのも容易です。直線の始点と終点をコンピュータに与えてやれば、ポン！直線が描けました。疑問の余地もありません。
          </p>
          <p>
            しかしながら、曲線の方はもっと大きな問題です。私たちはフリーハンドでいとも簡単に曲線を描くことができますが、コンピュータの方は少し不利です。曲線の描き方を表した数学的な関数が与えられないと、コンピュータは曲線を描くことができないのです。実際には、直線でさえも関数が必要になります。直線の関数はとても簡単なので、わたしたちはよく無視してしまいますが、コンピュータにとっては直線であれ曲線であれ、線はすべて「関数」なのです。しかしこれは、コンピュータで速く計算できて、きれいな曲線が得られるような関数を見つける必要がある、ということになります。そのような関数はたくさんありますが、多くの関心を集め続け、そしてどんな場面でも使われている、ある特定の関数に対してこの記事では焦点を絞ります。この関数は「ベジエ」曲線を描きます。
          </p>
          <p>
            ベジエ曲線は<a
              href="https://ja.wikipedia.org/wiki/%E3%83%94%E3%82%A8%E3%83%BC%E3%83%AB%E3%83%BB%E3%83%99%E3%82%B8%E3%82%A7"
              >Pierre Bézier</a
            >から名付けられました。この曲線がデザイン作業に適していることを世界に知らしめたのが、彼なのです（ルノーに勤務し、1962年にその研究を発表しました）。ただし、この曲線を「発明」したのは彼が最初で唯一というわけではありません。数学者<a
              href="https://en.wikipedia.org/wiki/Paul_de_Casteljau"
              >Paul de Casteljau</a
            >はシトロエンで働いていた1959年、この曲線の性質について研究し、ベジエ曲線の非常にエレガントな描き方を発見しました。これが最初だと言う人もいます。しかしながら、de
            Casteljauは自分の成果を発表しなかったため、「誰が最初か？」という問いに答えるのがとても難しくなっています。またベジエ曲線は、核心的には<a
              href="https://ja.wikipedia.org/wiki/%E3%82%BB%E3%83%AB%E3%82%B2%E3%82%A4%E3%83%BB%E3%83%99%E3%83%AB%E3%83%B3%E3%82%B7%E3%83%A5%E3%83%86%E3%82%A4%E3%83%B3"
              >Sergei Natanovich Bernstein</a
            >が研究した「ベルンシュタイン多項式」という数学関数の一種ですが、こちらの公刊に関しては少なくとも1912年まで遡ることができます。いずれにせよ、これらはほとんど瑣末なことです。より注目すべきなのは、ベジエ曲線は取り扱いに便利だいうことです。たとえば複数のベジエ曲線を繋いで、1つの曲線に見えるようにすることができます。もしあなたがPhotoshopで「パス」を描いたり、FlashやIllustrator、Inkscapeのようなベクタードローイングソフトを使ったことがあるのであれば、そこで描いてきた曲線はベジエ曲線です。
          </p>
          <p>
            では、これを自分でプログラムしなければならないとなったらどうでしょう？ハマりどころは何でしょうか？どうやってベジエ曲線を描くのでしょう？バウンディングボックスとは何で、どうやって交点を求め、どうやったら曲線を押し出せるのでしょうか？つまるところ、ベジエ曲線に対して行いたいあらゆる操作は、どのようにすればいいのでしょう？このページはそれに答えるためにあります。数学にとりかかりましょう！
          </p>
          <div className="print">
            ## 追伸：コーヒーをおごってくれませんか？

            <p>
              この本のことを印刷するほど気に入ったのであれば、あなたは「何かお礼をする方法はないか」と考えているかもしれません。この質問に対する答えはこうです：いつでもわたしにコーヒーをおごってください。あなたが住んでいるところの、コーヒー1杯の値段でかまいません。この本にかなりの金額を支払いたいのであれば、非常に高価なコーヒーをおごってくれてもかまいません
              =)
            </p>
            <p>
              この本は小さな入門からはじまり、印刷85ページ以上に相当するようなベジエ曲線の電子書籍へと、年々成長してきています。そして、多くのコーヒーがその執筆に費やされてきました。わたしは執筆に使った時間が惜しいとは思いませんが、もう少しコーヒーがあれば、ずっと書き続けることができるのです！<a
                href="https://pomax.github.io/bezierinfo%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%97%E3%81%A6%E3%82%AA%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E7%89%88%E3%81%AE%E3%81%BE%E3%81%88%E3%81%8C%E3%81%8D%E3%81%AB%E3%81%82%E3%82%8B%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%E3%81%97%E3%80%81%E3%82%B3%E3%83%BC%E3%83%92%E3%83%BC%E4%BB%A3%E3%82%92%E5%AF%84%E4%BB%98%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82"
                >https://pomax.github.io/bezierinfoにアクセスしてオンライン版のまえがきにあるリンクをクリックし、コーヒー代を寄付してください。</a
              >
            </p>
          </div>

          <p>
            —Pomax (Twitter上では<a href="https://twitter.com/TheRealPomax"
              >@TheRealPomax</a
            >)
          </p>
          <div className="note">
            <h2>注：ベジエの図はすべてインタラクティブになっています。</h2>
            <p>
              このページでは<a href="http://pomax.github.io/bezierjs"
                >Bezier.js</a
              >を活用し、インタラクティブな例示を行っています。また、<a
                href="http://mathjax.org"
                >MathJax</a
              >というすばらしいライブラリによって、（LaTeX式の）「本物」の数学組版を行っています。このページはWebpackを使い、Reactアプリケーションとしてオフラインで生成されていますが、このために「ソースを表示」オプションを追加することがかなり難しくなってしまいました。これをどうやって追加すべきかは今もまだ考え中ですが、かといって、数年ぶりとなる今回の更新を延期したくはありませんでした。
            </p>
            <h2>本書はオープンソースです。</h2>
            <p>
              この本はオープンソースソフトウェアのプロジェクトで、2つのGitHubリポジトリ上に存在しています。1つ目の<a
                href="https://github.com/pomax/bezierinfo"
                >https://github.com/pomax/bezierinfo</a
              >は表示のためだけに用意されたバージョンで、あなたが今読んでいるものです。もう一方の<a
                href="https://github.com/pomax/BezierInfo-2"
                >https://github.com/pomax/BezierInfo-2</a
              >は開発版で、すべてのHTML・JavaScript・CSSが含まれています。どちらのリポジトリもフォークすることができますし、あなたの好きなように使ってかまいません。ただし、これを自分の成果だと騙って売ることはもちろん除きます。=)
            </p>
            <h2>数学はどこまで難しくなりますか？</h2>
            <p>
              この入門に出てくる数学は、大半が高校初年度程度です。基本的な計算を理解していて、英語の読み方が分かっていれば、こなすことができるはずです。時には<em>ずっと</em>難しい数学も出てきますが、もし理解できないように感じたら、そこは読み飛ばしても大丈夫です。節の中の「詳細欄」を飛ばしてもいいですし、厄介そうな数学があれば節の最後まで読み飛ばしてもかまいません。各節の最後にはたいてい結論を並べてありますので、これを直に利用することもできます。
            </p>
            <h2>質問・コメント：</h2>
            <p>
              新しい節の提案があれば、<a
                href="https://github.com/pomax/BezierInfo-2/issues"
                >GitHubのissueトラッカー</a
              >をクリックしてください（右上にあるリポジトリのリンクからでもたどり着けます）。改訂中のため、現在はこのページにはコメント欄がありませんが、内容に関する質問がある場合にもissueトラッカーを使ってかまいません。改訂が完了したら、総合的なコメント欄を復活させる予定です。あるいは、「質問対象の節を選択して『質問』ボタンをクリック」するような項目別のシステムになるかもしれません。いずれわかります。
            </p>
            <h2>コーヒーをおごってくれませんか？</h2>
            <p>
              この本が気に入った場合や、取り組んでいたことに役に立つと思った場合、あるいは、この本への感謝をわたしに伝えるにはどうすればいいのかわからない場合。そのような場合には、<a
                href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QPRDLNGDANJSW"
                >わたしにコーヒーをおごってください</a
              >。あなたが住んでいるところのコーヒー1杯の値段でかまいません。この本は小さな入門からはじまり、印刷で70ページほどに相当するようなベジエ曲線の読み物へと、年々成長してきています。そして、多くのコーヒーが執筆に費やされてきました。わたしは執筆に使った時間が惜しいとは思いませんが、もう少しコーヒーがあれば、ずっと書き続けることができるのです！
            </p>
          </div>
        </section>
      </section>

      <section id="toc">
        <h1>Table of Contents</h1>
        <ol>
          <li><a href="#introduction">バッとした導入</a></li>
          <li><a href="#whatis">So what makes a Bézier Curve?</a></li>
        </ol>
      </section>

      <section id="changelog"></section>

      <section id="chapters">
        <section id="introduction">
          <h1>バッとした導入</h1>
          <p>
            まずは良い例から始めましょう。ベジエ曲線というのは、下の図に表示されているもののことです。ベジエ曲線はある始点からある終点へと延びており、その曲率は1個以上の「中間」制御点に左右されています。さて、このページの図はどれもインタラクティブになっていますので、ここで曲線をちょっと操作してみましょう。点をドラッグしたとき、曲線の形がそれに応じてどう変化するのか、確かめてみてください。
          </p>
          <div class="figure">
            <graphics-element
              title="2次のベジエ曲線"
              width="275"
              height="275"
              src="./chapters/introduction/quadratic.js"
            >
              <fallback-image>
                <img
                  src="./chapters/introduction/quadratic.png"
                  width="275"
                  height="275"
                />
                <span>JSがなくて、画像を表示しています。</span>
              </fallback-image>
            </graphics-element>

            <graphics-element
              title="3次のベジエ曲線"
              width="275"
              height="275"
              src="./chapters/introduction/cubic.js"
            >
              <fallback-image>
                <img
                  src="./chapters/introduction/cubic.png"
                  width="275"
                  height="275"
                />
                <span>JSがなくて、画像を表示しています。</span>
              </fallback-image>
            </graphics-element>
          </div>

          <p>
            ベジエ曲線は、CAD（computer aided designやCAM（computer aided
            manufacturing）のアプリケーションで多用されています。もちろん、Adobe
            Illustrator・Photoshop・Inkscape・Gimp
            などのグラフィックデザインアプリケーションや、SVG（scalable vector
            graphics）・OpenTypeフォント（otf/ttf）のようなグラフィック技術でも利用されています。ベジエ曲線はたくさんのものに使われていますので、これについてもっと詳しく学びたいのであれば……さあ、準備しましょう！
          </p>
        </section>
        <section id="whatis">
          <h1>So what makes a Bézier Curve?</h1>
          <p>
            Playing with the points for curves may have given you a feel for how
            Bézier curves behave, but what <em>are</em> Bézier curves, really?
            There are two ways to explain what a Bézier curve is, and they turn
            out to be the entirely equivalent, but one of them uses complicated
            maths, and the other uses really simple maths. So... let's start
            with the simple explanation:
          </p>
          <p>
            Bézier curves are the result of
            <a href="https://en.wikipedia.org/wiki/Linear_interpolation"
              >linear interpolations</a
            >. That sounds complicated but you've been doing linear
            interpolation since you were very young: any time you had to point
            at something between two other things, you've been applying linear
            interpolation. It's simply "picking a point between two points".
          </p>
          <p>
            If we know the distance between those two points, and we want a new
            point that is, say, 20% the distance away from the first point (and
            thus 80% the distance away from the second point) then we can
            compute that really easily:
          </p>
          <img
            className="LaTeX SVG"
            src="images/latex/0ee04e4056391f945c1c21c1174a03b5.svg"
            width="507px"
            height="103px"
          />
          <p>
            So let's look at that in action: the following graphic is
            interactive in that you can use your up and down arrow keys to
            increase or decrease the interpolation ratio, to see what happens.
            We start with three points, which gives us two lines. Linear
            interpolation over those lines gives us two points, between which we
            can again perform linear interpolation, yielding a single point. And
            that point —and all points we can form in this way for all ratios
            taken together— form our Bézier curve:
          </p>
          <graphics-element
            title="Linear Interpolation leading to Bézier curves"
            width="825"
            height="275"
            src="./chapters/whatis/interpolation.js"
          >
            <fallback-image>
              <img
                src="./chapters/whatis/interpolation.png"
                width="825"
                height="275"
              />
              <span>JSがなくて、画像を表示しています。</span>
            </fallback-image>
          </graphics-element>

          <p>And that brings us to the complicated maths: calculus.</p>
          <p>
            While it doesn't look like that's what we've just done, we actually
            just drew a quadratic curve, in steps, rather than in a single go.
            One of the fascinating parts about Bézier curves is that they can
            both be described in terms of polynomial functions, as well as in
            terms of very simple interpolations of interpolations of [...].
            That, in turn, means we can look at what these curves can do based
            on both "real maths" (by examining the functions, their derivatives,
            and all that stuff), as well as by looking at the "mechanical"
            composition (which tells us, for instance, that a curve will never
            extend beyond the points we used to construct it).
          </p>
          <p>
            So let's start looking at Bézier curves a bit more in depth: their
            mathematical expressions, the properties we can derive from them,
            and the various things we can do to, and with, Bézier curves.
          </p>
        </section>
      </section>
    </main>
  </body>
</html>
